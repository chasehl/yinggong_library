<!-- pages/home/home.wxml -->
<view class="page">

<!-- 顶部状态栏：左校徽 + 右标题 -->
<view class="status-bar card">
  <image src="/images/default-avatar.png" class="logo" mode="aspectFit" />
  <view class="title-wrap">
    <text class="small">应用工程学院图书馆</text>
    <text class="title">书香应工</text>
  </view>
</view>

<!-- 全局搜索栏（点击跳转到搜索页） -->
<view class="search-bar card" bindtap="toSearch" data-role="search">
  <text class="search-placeholder">🔍 搜索书名 / 作者 / ISBN</text>
</view>

<!-- 1x2 宫格（扫一扫 + 电子借阅证） -->
<view class="card grid-1x2">
  <view class="grid-cell" bindtap="toScan" data-role="scan">
    <image src="/images/scan-icon.png" class="icon" mode="aspectFit" />
    <text class="cell-text">扫一扫</text>
  </view>
  <view class="grid-cell" bindtap="toECard" data-role="ecard">
    <image src="/images/ecard-icon.png" class="icon" mode="aspectFit" />
    <text class="cell-text">电子借阅证</text>
  </view>
</view>

<!-- 2x4 宫格导航：读者服务 + 8 项按钮 -->
<view class="card nav-card">
  <view class="nav-header">
    <text class="nav-label">读者服务</text>
  </view>

  <view class="nav-grid">
    <view class="nav-item" bindtap="goCatalog" data-key="catalog">
      <image src="/images/icon-catalog.png" class="nav-icon" mode="aspectFit" />
      <text class="nav-text">馆藏检索</text>
    </view>

    <view class="nav-item" bindtap="goMyBorrow" data-key="myBorrow">
      <image src="/images/icon-borrow.png" class="nav-icon" mode="aspectFit" />
      <text class="nav-text">我的借阅</text>
    </view>

    <view class="nav-item" bindtap="goMyReserve" data-key="myReserve">
      <image src="/images/icon-reserve.png" class="nav-icon" mode="aspectFit" />
      <text class="nav-text">我的预约</text>
    </view>

    <view class="nav-item" bindtap="showRule" data-key="rule">
      <image src="/images/icon-rule.png" class="nav-icon" mode="aspectFit" />
      <text class="nav-text">借阅规则</text>
    </view>

    <view class="nav-item" bindtap="goHistory" data-key="history">
      <image src="/images/icon-history.png" class="nav-icon" mode="aspectFit" />
      <text class="nav-text">借阅历史</text>
    </view>

    <view class="nav-item" bindtap="goMap" data-key="map">
      <image src="/images/icon-map.png" class="nav-icon" mode="aspectFit" />
      <text class="nav-text">馆藏分布</text>
    </view>

    <view class="nav-item" bindtap="showOpenTime" data-key="openTime">
      <image src="/images/icon-clock.png" class="nav-icon" mode="aspectFit" />
      <text class="nav-text">开放时间</text>
    </view>

    <view class="nav-item" bindtap="goRecommend" data-key="recommend">
      <image src="/images/icon-like.png" class="nav-icon" mode="aspectFit" />
      <text class="nav-text">好书荐读</text>
    </view>
  </view>
</view>

<!-- 为你推荐：横向滚动书籍卡片（通过 wx:for 渲染） -->
<view class="card recommend-section">
  <view class="section-header">
    <text class="section-title">为你推荐</text>
  </view>

  <scroll-view class="recommend-scroll" scroll-x="true" scroll-with-animation="true">
    <block wx:for="{{recommend}}" wx:key="id" wx:for-item="book">
      <view class="book-card" bindtap="openBookDetail" data-id="{{book.id}}">
        <image src="{{book.cover}}" class="book-cover" mode="aspectFill" />
        <text class="book-title" space="nbsp">{{book.title}}</text>
        <text class="book-author small">{{book.author}}</text>
      </view>
    </block>
  </scroll-view>
</view>

<!-- 页面底部预留（或导航占位） -->
<view class="bottom-space"></view>

</view>
